<div class="container-nueva-receta">
  <h4 class="h2-color-1">Informacion basica</h4>

  <div class="input-container">
    <label>URL de imagen</label>
    <input type="url"
           placeholder="https://…/foto.jpg"
           [value]="store.imageUrl() ?? ''"
           (input)="updateImageUrl($event)" />
  </div>

  <div class="receta-inputs">
    <div class="input-container">
      <label for="nombre-receta">Nombre de la receta</label>
      <input id="nombre-receta" type="text" [value]="store.name()" (input)="updateName($event)">
    </div>

    <div class="input-container">
      <label for="descripcion-receta">Descripcion de la receta</label>
      <textarea id="descripcion-receta" rows="5"
                placeholder="Describe tu receta"
                [value]="store.description()"
                (input)="updateDescription($event)"></textarea>
    </div>
  </div>

  <div class="receta-inputs dual-inputs">
    <div class="input-container">
      <label for="categoria">Categoria</label>
      <select id="categoria" [value]="store.category()" (change)="updateCategory($event)">
        <option value="" disabled>Elegí una categoría</option>
        @for (c of categorias(); track c.id) {
          <option [value]="c.id">{{ c.nombre }}</option>
        }
      </select>
    </div>

    <div class="input-container">
      <label for="dificultad">Dificultad</label>
      <select id="dificultad" [value]="store.difficulty()" (change)="updateDifficulty($event)">
        <option value="facil">Fácil</option>
        <option value="medio">Media</option>
        <option value="dificil">Difícil</option>
      </select>
    </div>
  </div>

  <div class="receta-inputs dual-inputs">
    <div class="input-container">
      <label for="tiempo-preparacion">Tiempo de preparacion (en min)</label>
      <input id="tiempo-preparacion" type="text" [value]="store.prepMinutes()" (input)="updatePrepMinutes($event)">
    </div>
    <div class="input-container">
      <label for="tiempo-coccion">Tiempo de coccion (en min)</label>
      <input id="tiempo-coccion" type="text" [value]="store.cookMinutes()" (input)="updateCookMinutes($event)">
    </div>
  </div>

  <div class="receta-inputs dual-inputs">
    <div class="input-container">
      <label for="porciones">Porciones</label>
      <input id="porciones" type="number" [value]="store.servings() ?? ''" (input)="updateServings($event)">
    </div>
    <div class="input-container">
      <label for="etiquetas">Etiquetas (separadas por coma)</label>
      <input id="etiquetas" type="text" [value]="store.tags()" (input)="updateTags($event)">
    </div>
  </div>

  <div class="linea-dashed"></div>
<h4 class="h2-color-1">Información nutricional</h4>

<!-- Encabezados -->
<div class="nutri-head">
  <div>Nombre</div>
  <div>Cantidad</div>
  <div class="nutri-head-actions">Acciones</div>
</div>

<div class="nutri-grid">
  @for (n of store.nutritionItems(); track n.id; let i = $index) {
    <div class="nutri-row">
      <div class="nutri-name">
        <input type="text" placeholder="Calorías, Proteína, etc."
               [value]="n.label" (input)="editNutLabel(i, $event)">
      </div>
      <div class="nutri-amount">
        <input type="text" inputmode="decimal" placeholder="Ej: 200"
               [value]="n.value" (input)="editNutValue(i, $event)">
      </div>
      <div class="nutri-actions">
        <button class="btn-personalizado secundario btn-compacto" type="button"
                (click)="removeNutrition(i)">Quitar</button>
      </div>
    </div>
  }
  </div>

  <button class="btn-personalizado secundario nutri-add" type="button" (click)="addNutrition()">
    + Agregar valor nutricional
  </button>

  <div class="linea-dashed"></div>
  <div class="receta-btn-avance">
    <a routerLink="/" class="btn-personalizado secundario" (click)="persistDraft()">Cancelar</a>
    <a routerLink="../step-2" class="btn-personalizado primario" (click)="persistDraft()">Siguiente</a>
  </div>
</div>
