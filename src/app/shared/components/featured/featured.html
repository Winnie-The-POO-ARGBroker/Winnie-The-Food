<!-- src/app/shared/components/featured/featured.html -->
<div class="recetas-contenedor">
  @for (recipe of cardsList; track recipe.id) {

    @if (actionsTemplate) {
      <!-- DASHBOARD: con barra de acciones -->
      <div class="featured-item">
        @if (recipe.enlace && recipe.enlace !== '#') {
          <a class="card receta text-decoration-none" [routerLink]="recipe.enlace">
            <img [src]="imgSrc(recipe)" class="card-img-top" [attr.alt]="recipe.titulo">
            <div class="tiempo-receta">{{ recipe.tiempo }}</div>

            <div class="card-body">
              <h3 class="h2-color-1">{{ recipe.titulo }}</h3>
              <p>{{ recipe.descripcion }}</p>

              <div class="nivel-dificultad">
                <div class="circulo"
                     [class.facil]="recipe.dificultad==='facil'"
                     [class.medio]="recipe.dificultad==='medio'"
                     [class.dificil]="recipe.dificultad==='dificil'"></div>
                <span>{{ recipe.dificultad | dificultadNombre }}</span>
              </div>
            </div>
          </a>
        } @else {
          <div class="card receta text-decoration-none">
            <img [src]="imgSrc(recipe)" class="card-img-top" [attr.alt]="recipe.titulo">
            <div class="tiempo-receta">{{ recipe.tiempo }}</div>

            <div class="card-body">
              <h3 class="h2-color-1">{{ recipe.titulo }}</h3>
              <p>{{ recipe.descripcion }}</p>

              <div class="nivel-dificultad">
                <div class="circulo"
                     [class.facil]="recipe.dificultad==='facil'"
                     [class.medio]="recipe.dificultad==='medio'"
                     [class.dificil]="recipe.dificultad==='dificil'"></div>
                <span>{{ recipe.dificultad | dificultadNombre }}</span>
              </div>
            </div>
          </div>
        }

        <div class="featured-actions-bar">
          <ng-container
            [ngTemplateOutlet]="actionsTemplate!"
            [ngTemplateOutletContext]="{ $implicit: recipe }">
          </ng-container>
        </div>
      </div>

    } @else {
      <!-- HOME / ALL: sin acciones -->
      @if (recipe.enlace && recipe.enlace !== '#') {
        <a class="card receta text-decoration-none" [routerLink]="recipe.enlace">
          <img [src]="imgSrc(recipe)" class="card-img-top" [attr.alt]="recipe.titulo">
          <div class="tiempo-receta">{{ recipe.tiempo }}</div>

          <div class="card-body">
            <h3 class="h2-color-1">{{ recipe.titulo }}</h3>
            <p>{{ recipe.descripcion }}</p>

            <div class="nivel-dificultad">
              <div class="circulo"
                   [class.facil]="recipe.dificultad==='facil'"
                   [class.medio]="recipe.dificultad==='medio'"
                   [class.dificil]="recipe.dificultad==='dificil'"></div>
              <span>{{ recipe.dificultad | dificultadNombre }}</span>
            </div>
          </div>
        </a>
      } @else {
        <div class="card receta text-decoration-none">
          <img [src]="imgSrc(recipe)" class="card-img-top" [attr.alt]="recipe.titulo">
          <div class="tiempo-receta">{{ recipe.tiempo }}</div>

          <div class="card-body">
            <h3 class="h2-color-1">{{ recipe.titulo }}</h3>
            <p>{{ recipe.descripcion }}</p>

            <div class="nivel-dificultad">
              <div class="circulo"
                   [class.facil]="recipe.dificultad==='facil'"
                   [class.medio]="recipe.dificultad==='medio'"
                   [class.dificil]="recipe.dificultad==='dificil'"></div>
              <span>{{ recipe.dificultad | dificultadNombre }}</span>
            </div>
          </div>
        </div>
      }
    }
  } @empty {
    <app-empty-state message="No hay recetas para mostrar."></app-empty-state>
  }
</div>
